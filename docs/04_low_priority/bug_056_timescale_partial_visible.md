# –ë–ê–ì #56: –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞

> **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –ù–ò–ó–ö–ê–Ø  
> **Issue:** [#978](https://github.com/tradingview/lightweight-charts/issues/978)  
> **–í–µ—Ä—Å–∏–∏:** –í—Å–µ –≤–µ—Ä—Å–∏–∏, –≤–∫–ª—é—á–∞—è v5.x  
> **–°—Ç–∞—Ç—É—Å:** üî¥ Open  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2022

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö **–≤—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ (time scale) –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ —Å–∫—Ä—ã—Ç–∞ –∏–ª–∏ –æ–±—Ä–µ–∑–∞–Ω–∞**. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–∞—Å—Ç—Ä–æ–µ–∫ —à–∫–∞–ª –∏ CSS —Å—Ç–∏–ª–µ–π.

### –î–µ—Ç–∞–ª–∏

1. **–°–∏–º–ø—Ç–æ–º—ã:**
   - –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã –æ–±—Ä–µ–∑–∞–Ω–∞
   - –ú–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ —á–∞—Å—Ç–∏—á–Ω–æ –≤–∏–¥–Ω—ã
   - Scroll/overflow —Å–∫—Ä—ã–≤–∞–µ—Ç —à–∫–∞–ª—É

2. **–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã—Å–æ—Ç–æ–π –±–µ–∑ —É—á—ë—Ç–∞ —à–∫–∞–ª—ã
   - CSS overflow: hidden –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –≤—ã—Å–æ—Ç—ã

3. **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
   - –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞
   - –í—ã—Å–æ—Ç–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç —à–∫–∞–ª—É

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã

```
–û–∂–∏–¥–∞–µ–º–æ–µ:                        –†–µ–∞–ª—å–Ω–æ–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                             ‚îÇ   ‚îÇ                             ‚îÇ
‚îÇ       Chart Area            ‚îÇ   ‚îÇ       Chart Area            ‚îÇ
‚îÇ                             ‚îÇ   ‚îÇ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Jan ‚îÇ Feb ‚îÇ Mar ‚îÇ Apr ‚îÇMay ‚îÇ   ‚îÇ  Jan ‚îÇ Feb ‚îÇ Mar ‚îÇ Apr ‚îÇMay ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îò
   ‚Üë –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞                 ‚Üë –û–±—Ä–µ–∑–∞–Ω–∞             ‚îÄ‚îÄ‚îò
                                                          (hidden)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

```typescript
// –ü—Ä–æ–±–ª–µ–º–Ω—ã–π CSS
const container = document.getElementById('chart')!;
container.style.cssText = `
  height: 300px;
  overflow: hidden; /* ‚ùå –ú–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å time scale */
`;

const chart = createChart(container, {
  height: 300, // –í—ã—Å–æ—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç time scale
  timeScale: {
    visible: true,
    borderVisible: true,
  },
});

// Time scale –∑–∞–Ω–∏–º–∞–µ—Ç ~30px, –Ω–æ container –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ
// –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∏–∂–Ω–∏–µ 30px –æ–±—Ä–µ–∑–∞–Ω—ã
```

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –≤—ã—Å–æ—Ç—ã (‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ)

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```typescript
import { createChart } from 'lightweight-charts';

const TIME_SCALE_HEIGHT = 30; // –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ time scale
const PRICE_SCALE_RESERVED = 0; // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å

/**
 * –°–æ–∑–¥–∞—ë—Ç –≥—Ä–∞—Ñ–∏–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞—Å—á—ë—Ç–æ–º –≤—ã—Å–æ—Ç—ã
 */
function createChartWithCorrectHeight(
  container: HTMLElement,
  desiredChartAreaHeight: number
): IChartApi {
  const totalHeight = desiredChartAreaHeight + TIME_SCALE_HEIGHT;
  
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã—Å–æ—Ç—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  container.style.height = `${totalHeight}px`;
  container.style.overflow = 'visible'; // –í–∞–∂–Ω–æ!
  
  return createChart(container, {
    height: totalHeight,
    timeScale: {
      visible: true,
    },
  });
}

// ==================== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ====================

const container = document.getElementById('chart')!;

// –•–æ—Ç–∏–º chart area 270px, time scale –¥–æ–±–∞–≤–∏—Ç ~30px
const chart = createChartWithCorrectHeight(container, 270);

const series = chart.addLineSeries();
series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç
- –ù–µ—Ç –æ–±—Ä–µ–∑–∞–Ω–∏—è
- –ü–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—É—é –≤—ã—Å–æ—Ç—É time scale

---

### –†–µ—à–µ–Ω–∏–µ 2: autoSize —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```typescript
import { createChart } from 'lightweight-charts';

const container = document.getElementById('chart')!;

// –£–±–µ–∂–¥–∞–µ–º—Å—è —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
container.style.cssText = `
  width: 100%;
  height: 400px;
  overflow: visible; /* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ! */
`;

const chart = createChart(container, {
  autoSize: true, // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  timeScale: {
    visible: true,
    borderVisible: true,
  },
});

// autoSize —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª—é—á–∞—è time scale
```

**–ü–ª—é—Å—ã:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä
- Responsive
- –ù–µ—Ç —Ä—É—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

---

### –†–µ—à–µ–Ω–∏–µ 3: CSS flex layout

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```html
<div id="chart-wrapper" style="display: flex; flex-direction: column; height: 400px;">
  <div id="chart" style="flex: 1; min-height: 0;"></div>
</div>
```

```typescript
import { createChart } from 'lightweight-charts';

const chartWrapper = document.getElementById('chart-wrapper')!;
const chartContainer = document.getElementById('chart')!;

const chart = createChart(chartContainer, {
  autoSize: true,
  timeScale: {
    visible: true,
  },
});

// Flex layout –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
// Time scale –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∏–¥–Ω–∞
```

**–ü–ª—é—Å—ã:**
- –ì–∏–±–∫–∏–π layout
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç flex –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

---

### –†–µ—à–µ–Ω–∏–µ 4: ResizeObserver —Å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–æ–π

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```typescript
import { createChart, IChartApi } from 'lightweight-charts';

class TimeScaleVisibilityManager {
  private _chart: IChartApi;
  private _container: HTMLElement;
  private _timeScaleHeight = 30;
  private _resizeObserver: ResizeObserver;
  
  constructor(container: HTMLElement) {
    this._container = container;
    
    // –°–æ–∑–¥–∞—ë–º chart
    this._chart = createChart(container, {
      timeScale: {
        visible: true,
      },
    });
    
    // –°–ª–µ–¥–∏–º –∑–∞ —Ä–∞–∑–º–µ—Ä–∞–º–∏
    this._resizeObserver = new ResizeObserver((entries) => {
      for (const entry of entries) {
        this._adjustSize(entry.contentRect);
      }
    });
    
    this._resizeObserver.observe(container);
    this._adjustSize(container.getBoundingClientRect());
  }
  
  private _adjustSize(rect: DOMRectReadOnly): void {
    const containerHeight = rect.height;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–µ—Å—Ç–∞ –¥–ª—è time scale
    if (containerHeight < this._timeScaleHeight + 100) {
      console.warn('Container too small for time scale');
      // –ú–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å time scale –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å chart
      this._chart.timeScale().applyOptions({ visible: false });
    } else {
      this._chart.timeScale().applyOptions({ visible: true });
      this._chart.resize(rect.width, containerHeight);
    }
  }
  
  get chart(): IChartApi {
    return this._chart;
  }
  
  destroy(): void {
    this._resizeObserver.disconnect();
    this._chart.remove();
  }
}

// ==================== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ====================

const container = document.getElementById('chart')!;
const manager = new TimeScaleVisibilityManager(container);

const series = manager.chart.addLineSeries();
series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç edge cases
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

**–ú–∏–Ω—É—Å—ã:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
- –ú–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å time scale

---

### –†–µ—à–µ–Ω–∏–µ 5: CSS Grid layout

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –¢–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

```html
<div id="chart-grid" style="
  display: grid;
  grid-template-rows: 1fr 30px;
  height: 400px;
">
  <div id="chart-area"></div>
  <div id="time-scale-placeholder"></div>
</div>
```

```typescript
import { createChart } from 'lightweight-charts';

const gridContainer = document.getElementById('chart-grid')!;
const chartArea = document.getElementById('chart-area')!;

// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã—Å–æ—Ç—É
const totalHeight = gridContainer.clientHeight;
const chartHeight = totalHeight; // Grid —É–∂–µ —É—á—ë–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É

const chart = createChart(chartArea, {
  width: chartArea.clientWidth,
  height: chartHeight,
  timeScale: {
    visible: true,
  },
});

// Grid –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–µ—Å—Ç–æ –¥–ª—è time scale
```

**–ü–ª—é—Å—ã:**
- –¢–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–æ–≤
- Grid layout
- –Ø–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞

**–ú–∏–Ω—É—Å—ã:**
- –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

### –†–µ—à–µ–Ω–∏–µ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ overflow

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ñ–∏–∫—Å

```typescript
import { createChart, IChartApi } from 'lightweight-charts';

/**
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é time scale
 */
function ensureTimeScaleVisible(container: HTMLElement): void {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º overflow —É –≤—Å–µ—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π
  let element: HTMLElement | null = container;
  
  while (element) {
    const style = getComputedStyle(element);
    
    if (style.overflow === 'hidden' || style.overflowY === 'hidden') {
      console.warn(`Element with overflow:hidden found:`, element);
      
      // –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ visible
      // element.style.overflow = 'visible';
      
      // –í–∞—Ä–∏–∞–Ω—Ç 2: –£–≤–µ–ª–∏—á–∏—Ç—å –≤—ã—Å–æ—Ç—É
      const currentHeight = element.clientHeight;
      const neededHeight = currentHeight + 30; // +time scale
      element.style.minHeight = `${neededHeight}px`;
    }
    
    element = element.parentElement;
  }
}

/**
 * –°–æ–∑–¥–∞—ë—Ç chart —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∏–¥–∏–º–æ–π time scale
 */
function createSafeChart(container: HTMLElement, height: number): IChartApi {
  // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
  ensureTimeScaleVisible(container);
  
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç–∏–ª–∏
  container.style.cssText = `
    position: relative;
    width: 100%;
    height: ${height}px;
    overflow: visible;
  `;
  
  return createChart(container, {
    height,
    autoSize: false,
    timeScale: {
      visible: true,
      borderVisible: true,
    },
  });
}

// ==================== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ====================

const container = document.getElementById('chart')!;
const chart = createSafeChart(container, 400);

const series = chart.addLineSeries();
series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ warnings

**–ú–∏–Ω—É—Å—ã:**
- –ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- –ú–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ layout

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–†–µ—à–µ–Ω–∏–µ 2** (autoSize —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º):

```typescript
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä
const container = document.getElementById('chart')!;
container.style.cssText = `
  width: 100%;
  height: 400px;
  overflow: visible;
`;

const chart = createChart(container, {
  autoSize: true,
  timeScale: { visible: true },
});
```

## üìä –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `overflow` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è—Ö
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ (chart + 30px)
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `autoSize: true` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSS –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `overflow: visible` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ—à–µ–Ω–∏–π

| –†–µ—à–µ–Ω–∏–µ | –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|----------|------------|---------------|--------------|
| **#1 –†–∞—Å—á—ë—Ç –≤—ã—Å–æ—Ç—ã** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | –†—É—á–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å |
| **#2 autoSize** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ |
| **#3 Flex layout** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS |
| **#4 ResizeObserver** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π |
| **#5 Grid layout** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | –¢–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å |
| **#6 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Debug |

## üîó –ò—Å—Ç–æ—á–Ω–∏–∫–∏

- [GitHub Issue #978](https://github.com/tradingview/lightweight-charts/issues/978) - Time scale visibility
- [autoSize Option](https://tradingview.github.io/lightweight-charts/docs/api/interfaces/ChartOptions#autosize)
- [Chart Sizing](https://tradingview.github.io/lightweight-charts/tutorials/how_to/set-chart-size)

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2026-01-18  
**–í–µ—Ä—Å–∏—è lightweight-charts:** v5.1.0 –∏ —Ä–∞–Ω–µ–µ
