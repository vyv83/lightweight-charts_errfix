# –ë–ê–ì #57: –õ–µ–≤–∞—è –æ—Å—å –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω–æ

> **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –ù–ò–ó–ö–ê–Ø  
> **Issue:** [#513](https://github.com/tradingview/lightweight-charts/issues/513)  
> **–í–µ—Ä—Å–∏–∏:** –í—Å–µ –≤–µ—Ä—Å–∏–∏, –≤–∫–ª—é—á–∞—è v5.x  
> **–°—Ç–∞—Ç—É—Å:** üî¥ Open  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2020

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **–ª–µ–≤–æ–π —Ü–µ–Ω–æ–≤–æ–π –æ—Å–∏** (`leftPriceScale: { visible: true }`) –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö **–æ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ –æ–±—Ä–µ–∑–∞–Ω–∞ –∏–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**. –ú–µ—Ç–∫–∏ –∏ –≥—Ä–∞–Ω–∏—Ü–∞ –æ—Å–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω—ã.

### –î–µ—Ç–∞–ª–∏

1. **–°–∏–º–ø—Ç–æ–º—ã:**
   - –õ–µ–≤–∞—è —á–∞—Å—Ç—å —Ü–µ–Ω–æ–≤–æ–π –æ—Å–∏ –æ–±—Ä–µ–∑–∞–Ω–∞
   - –ú–µ—Ç–∫–∏ —Ü–µ–Ω —á–∞—Å—Ç–∏—á–Ω–æ –≤–∏–¥–Ω—ã
   - –ì—Ä–∞–Ω–∏—Ü–∞ –æ—Å–∏ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

2. **–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å `overflow: hidden`
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –º–µ—Ç–∫–∏
   - –ë–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞ –Ω–∞ –æ—Å–∏ (—Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞)

3. **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
   - –õ–µ–≤–∞—è –æ—Å—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã

```
–û–∂–∏–¥–∞–µ–º–æ–µ:                      –†–µ–∞–ª—å–Ω–æ–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1200  ‚îÇ                 ‚îÇ     200  ‚îÇ                 ‚îÇ
‚îÇ       ‚îÇ                 ‚îÇ          ‚îÇ                 ‚îÇ
‚îÇ 1150  ‚îÇ   Chart Area    ‚îÇ     150  ‚îÇ   Chart Area    ‚îÇ
‚îÇ       ‚îÇ                 ‚îÇ          ‚îÇ                 ‚îÇ
‚îÇ 1100  ‚îÇ                 ‚îÇ     100  ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚Üë –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞               ‚Üë –û–±—Ä–µ–∑–∞–Ω–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

```typescript
import { createChart } from 'lightweight-charts';

const container = document.getElementById('chart')!;
container.style.cssText = `
  width: 400px;
  overflow: hidden; /* ‚ùå –ú–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å –ª–µ–≤—É—é –æ—Å—å */
`;

const chart = createChart(container, {
  leftPriceScale: {
    visible: true,
    borderVisible: true,
  },
  rightPriceScale: {
    visible: false,
  },
});

const series = chart.addLineSeries({
  priceScaleId: 'left',
});

series.setData([
  { time: '2024-01-01', value: 12345.67 }, // –î–ª–∏–Ω–Ω–æ–µ —á–∏—Å–ª–æ
  { time: '2024-01-02', value: 12456.78 },
]);

// –ú–µ—Ç–∫–∏ "12345.67" –º–æ–≥—É—Ç –Ω–µ –ø–æ–º–µ—Å—Ç–∏—Ç—å—Å—è –∏ –æ–±—Ä–µ–∑–∞—Ç—å—Å—è
```

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: CSS overflow visible (‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ)

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –ü—Ä–æ—Å—Ç–æ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ

```typescript
import { createChart } from 'lightweight-charts';

const container = document.getElementById('chart')!;

// –í–∞–∂–Ω–æ: overflow –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å visible
container.style.cssText = `
  width: 400px;
  height: 300px;
  overflow: visible; /* ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å–∏ –±—ã—Ç—å –≤–∏–¥–∏–º–æ–π */
`;

// –ò–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º padding —Å–ª–µ–≤–∞
container.style.cssText = `
  width: 400px;
  height: 300px;
  padding-left: 60px; /* –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º –º–µ—Å—Ç–æ –¥–ª—è –æ—Å–∏ */
  box-sizing: border-box;
`;

const chart = createChart(container, {
  leftPriceScale: {
    visible: true,
  },
});
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ú–∏–Ω—É—Å—ã:**
- –ú–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ layout —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### –†–µ—à–µ–Ω–∏–µ 2: Wrapper —Å padding

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```typescript
import { createChart } from 'lightweight-charts';

// HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
const wrapper = document.createElement('div');
wrapper.style.cssText = `
  width: 100%;
  padding-left: 60px; /* –ú–µ—Å—Ç–æ –¥–ª—è –ª–µ–≤–æ–π –æ—Å–∏ */
  box-sizing: border-box;
`;

const chartContainer = document.createElement('div');
chartContainer.style.cssText = `
  width: 100%;
  height: 300px;
`;

wrapper.appendChild(chartContainer);
document.getElementById('app')!.appendChild(wrapper);

const chart = createChart(chartContainer, {
  autoSize: true,
  leftPriceScale: {
    visible: true,
  },
  rightPriceScale: {
    visible: false,
  },
});

const series = chart.addLineSeries({ priceScaleId: 'left' });
series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –Ø–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π layout

**–ú–∏–Ω—É—Å—ã:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π wrapper —ç–ª–µ–º–µ–Ω—Ç

---

### –†–µ—à–µ–Ω–∏–µ 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —à–∏—Ä–∏–Ω—ã –æ—Å–∏

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```typescript
import { createChart, IChartApi, ISeriesApi } from 'lightweight-charts';

class LeftAxisManager {
  private _chart: IChartApi;
  private _container: HTMLElement;
  private _series: ISeriesApi<any> | null = null;
  private _padding = 10;
  
  constructor(container: HTMLElement) {
    this._container = container;
    
    // –°–æ–∑–¥–∞—ë–º wrapper
    const wrapper = document.createElement('div');
    wrapper.style.cssText = `
      display: flex;
      width: 100%;
      height: 100%;
    `;
    
    // Spacer –¥–ª—è –ª–µ–≤–æ–π –æ—Å–∏
    const leftSpacer = document.createElement('div');
    leftSpacer.id = 'left-axis-spacer';
    leftSpacer.style.cssText = `
      width: 60px; /* –ù–∞—á–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
      flex-shrink: 0;
    `;
    
    // Chart container
    const chartContainer = document.createElement('div');
    chartContainer.style.cssText = `
      flex: 1;
      min-width: 0;
    `;
    
    wrapper.appendChild(leftSpacer);
    wrapper.appendChild(chartContainer);
    container.appendChild(wrapper);
    
    this._chart = createChart(chartContainer, {
      autoSize: true,
      leftPriceScale: {
        visible: true,
      },
      rightPriceScale: {
        visible: false,
      },
    });
  }
  
  addSeries(data: { time: Time; value: number }[]): ISeriesApi<'Line'> {
    this._series = this._chart.addLineSeries({
      priceScaleId: 'left',
    });
    
    this._series.setData(data);
    this._adjustAxisWidth(data);
    
    return this._series;
  }
  
  private _adjustAxisWidth(data: { value: number }[]): void {
    // –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —à–∏—Ä–∏–Ω—ã
    const maxValue = Math.max(...data.map(d => d.value));
    const minValue = Math.min(...data.map(d => d.value));
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ –Ω—É–∂–Ω–æ
    const maxDigits = Math.max(
      maxValue.toFixed(2).length,
      minValue.toFixed(2).length
    );
    
    // –ü—Ä–∏–º–µ—Ä–Ω–æ 8px –Ω–∞ —Å–∏–º–≤–æ–ª + padding
    const neededWidth = maxDigits * 8 + this._padding * 2;
    
    const spacer = this._container.querySelector('#left-axis-spacer') as HTMLElement;
    if (spacer) {
      spacer.style.width = `${neededWidth}px`;
    }
  }
  
  get chart(): IChartApi {
    return this._chart;
  }
}

// ==================== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ====================

const container = document.getElementById('chart')!;
container.style.height = '300px';

const manager = new LeftAxisManager(container);
manager.addSeries([
  { time: '2024-01-01', value: 12345.67 },
  { time: '2024-01-02', value: 12456.78 },
]);
```

**–ü–ª—é—Å—ã:**
- –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–∞–Ω–Ω—ã–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

---

### –†–µ—à–µ–Ω–∏–µ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ priceFormat –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —à–∏—Ä–∏–Ω—ã

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –ö–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ API

```typescript
import { createChart } from 'lightweight-charts';

const container = document.getElementById('chart')!;
container.style.cssText = `
  width: 100%;
  height: 300px;
  padding-left: 50px;
  box-sizing: border-box;
`;

const chart = createChart(container, {
  leftPriceScale: {
    visible: true,
    autoScale: true,
  },
  rightPriceScale: {
    visible: false,
  },
});

const series = chart.addLineSeries({
  priceScaleId: 'left',
  priceFormat: {
    type: 'price',
    precision: 0, // –ú–µ–Ω—å—à–µ –∑–Ω–∞–∫–æ–≤ = –º–µ–Ω—å—à–µ —à–∏—Ä–∏–Ω–∞
    minMove: 1,
  },
});

// –ò–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π formatter –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
const seriesWithCustomFormat = chart.addLineSeries({
  priceScaleId: 'left',
  priceFormat: {
    type: 'custom',
    formatter: (price: number) => {
      if (price >= 1000000) return `${(price / 1000000).toFixed(1)}M`;
      if (price >= 1000) return `${(price / 1000).toFixed(1)}K`;
      return price.toFixed(0);
    },
    minMove: 1,
  },
});

series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –ö–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ API
- –£–º–µ–Ω—å—à–∞–µ—Ç —à–∏—Ä–∏–Ω—É –º–µ—Ç–æ–∫

**–ú–∏–Ω—É—Å—ã:**
- –¢–µ—Ä—è–µ—Ç—Å—è —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

### –†–µ—à–µ–Ω–∏–µ 5: CSS Grid —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–ª–æ–Ω–∫–æ–π

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π layout

```html
<div id="chart-container" style="
  display: grid;
  grid-template-columns: 60px 1fr;
  width: 100%;
  height: 300px;
">
  <div id="left-axis-area"></div>
  <div id="chart-area"></div>
</div>
```

```typescript
import { createChart } from 'lightweight-charts';

const chartArea = document.getElementById('chart-area')!;

const chart = createChart(chartArea, {
  autoSize: true,
  leftPriceScale: {
    visible: true,
  },
  rightPriceScale: {
    visible: false,
  },
  layout: {
    // –õ–µ–≤–∞—è –æ—Å—å –±—É–¥–µ—Ç "–≤—ã–µ–∑–∂–∞—Ç—å" –≤ grid –æ–±–ª–∞—Å—Ç—å
  },
});

// CSS –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å–∏
const style = document.createElement('style');
style.textContent = `
  #chart-area .tv-lightweight-charts {
    overflow: visible;
    margin-left: -60px; /* –°–¥–≤–∏–≥–∞–µ–º –≤–ª–µ–≤–æ –≤ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å */
  }
`;
document.head.appendChild(style);
```

**–ü–ª—é—Å—ã:**
- Grid layout
- –¢–æ—á–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç CSS —Ö–∞–∫–∏
- –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

### –†–µ—à–µ–Ω–∏–µ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```typescript
import { createChart, IChartApi } from 'lightweight-charts';

interface AxisVisibilityDiagnostics {
  isLeftAxisVisible: boolean;
  containerOverflow: string;
  estimatedAxisWidth: number;
  availableSpace: number;
  issues: string[];
}

/**
 * –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é –ª–µ–≤–æ–π –æ—Å–∏
 */
function diagnoseLeftAxisVisibility(container: HTMLElement): AxisVisibilityDiagnostics {
  const style = getComputedStyle(container);
  const issues: string[] = [];
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º overflow
  if (style.overflow === 'hidden' || style.overflowX === 'hidden') {
    issues.push('Container has overflow:hidden which may clip left axis');
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º padding
  const paddingLeft = parseFloat(style.paddingLeft) || 0;
  if (paddingLeft < 50) {
    issues.push(`Insufficient left padding (${paddingLeft}px, recommend 50-70px)`);
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª–µ–π
  let parent = container.parentElement;
  while (parent) {
    const parentStyle = getComputedStyle(parent);
    if (parentStyle.overflow === 'hidden') {
      issues.push(`Parent element has overflow:hidden`);
    }
    parent = parent.parentElement;
  }
  
  return {
    isLeftAxisVisible: issues.length === 0,
    containerOverflow: style.overflow,
    estimatedAxisWidth: 60, // –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ
    availableSpace: paddingLeft,
    issues,
  };
}

/**
 * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–µ–≤–æ–π –æ—Å—å—é
 */
function fixLeftAxisVisibility(container: HTMLElement): void {
  const diagnostics = diagnoseLeftAxisVisibility(container);
  
  if (diagnostics.issues.length > 0) {
    console.warn('Left axis visibility issues:', diagnostics.issues);
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    container.style.overflow = 'visible';
    container.style.paddingLeft = '60px';
    container.style.boxSizing = 'border-box';
  }
}

/**
 * –°–æ–∑–¥–∞—ë—Ç chart —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∏–¥–∏–º–æ–π –ª–µ–≤–æ–π –æ—Å—å—é
 */
function createChartWithLeftAxis(container: HTMLElement): IChartApi {
  fixLeftAxisVisibility(container);
  
  return createChart(container, {
    autoSize: true,
    leftPriceScale: {
      visible: true,
    },
    rightPriceScale: {
      visible: false,
    },
  });
}

// ==================== –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï ====================

const container = document.getElementById('chart')!;

// –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
const diagnostics = diagnoseLeftAxisVisibility(container);
console.log('Diagnostics:', diagnostics);

// –°–æ–∑–¥–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
const chart = createChartWithLeftAxis(container);

const series = chart.addLineSeries({ priceScaleId: 'left' });
series.setData(data);
```

**–ü–ª—é—Å—ã:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- –ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–†–µ—à–µ–Ω–∏–µ 2** (Wrapper —Å padding):

```typescript
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä
const wrapper = document.createElement('div');
wrapper.style.cssText = `
  width: 100%;
  padding-left: 60px;
  box-sizing: border-box;
`;

const chartContainer = document.createElement('div');
chartContainer.style.height = '300px';
wrapper.appendChild(chartContainer);
container.appendChild(wrapper);

const chart = createChart(chartContainer, {
  autoSize: true,
  leftPriceScale: { visible: true },
  rightPriceScale: { visible: false },
});
```

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ—à–µ–Ω–∏–π

| –†–µ—à–µ–Ω–∏–µ | –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | Layout Impact | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|----------|------------|---------------|--------------|
| **#1 overflow visible** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å |
| **#2 Wrapper + padding** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ |
| **#3 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —à–∏—Ä–∏–Ω–∞** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π |
| **#4 priceFormat** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –º–µ—Ç–æ–∫ |
| **#5 CSS Grid** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS |
| **#6 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | Debug |

## üîó –ò—Å—Ç–æ—á–Ω–∏–∫–∏

- [GitHub Issue #513](https://github.com/tradingview/lightweight-charts/issues/513) - Left axis visibility
- [Price Scale Options](https://tradingview.github.io/lightweight-charts/docs/api/interfaces/PriceScaleOptions)
- [Chart Layout](https://tradingview.github.io/lightweight-charts/docs/api/interfaces/ChartOptions)

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2026-01-18  
**–í–µ—Ä—Å–∏—è lightweight-charts:** v5.1.0 –∏ —Ä–∞–Ω–µ–µ
